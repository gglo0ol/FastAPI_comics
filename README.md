Описание:

На сайте комиксов необходимо реализовать систему оценки и отображения рейтинга для каждого комикса. Рейтинг должен быть основан на средней оценке, которую пользователи могут ставить комиксам от 1 до 5. Рейтинг должен быть обновляемым в реальном времени.

 
Требования:

Создайте модель Comic с полями:
 
id (уникальный идентификатор)

title (название комикса)

author (автор комикса)

rating (рейтинг комикса, по умолчанию 0)



Создайте модель Rating с полями:

id (уникальный идентификатор)

comic_id (ссылка на комикс)

user_id (идентификатор пользователя, оценившего комикс)

VALUE (оценка пользователя от 1 до 5)

Реализуйте API endpoint для создания оценки комикса:

 
Метод: POST

URL: /api/ratings/

Параметры: comic_id, user_id, VALUE

При создании оценки, обновите средний рейтинг комикса и сохраните оценку.

Реализуйте API endpoint для получения рейтинга конкретного комикса:

 
Метод: GET

URL: /api/comics/<comic_id>/rating/

Верните средний рейтинг комикса.

Напишите тесты для проверки корректности работы системы оценки:

 
Тест на создание оценки и обновление рейтинга комикса.

Тест на получение среднего рейтинга комикса.

Примечание:
 
Для вычисления среднего рейтинга комикса, учитывайте только уникальные оценки от пользователей.

При создании оценки, проверьте, не оценил ли пользователь уже данный комикс, и если да, то обновите его оценку.

Используйте фреймворк или библиотеку на ваш выбор (Django, Flask, FastAPI и т. д.).
